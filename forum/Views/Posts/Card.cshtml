@model forum.ViewModels.PostsListViewModel

@{
    ViewData["Title"] = @Model.CurrentViewName + " View";
}


<h1>Posts (@Model.CurrentViewName View)</h1>
<a href="/Posts/Compact">Change to Compact View</a>

<div class="row row-cols-1 row-cols-md-3 g-4">
    @foreach (var post in Model.Posts)
    {
        <div class="col">
            <div>
                <h1>@post.Title</h1>
                <div>
                    <div>@post.PostId</div>
                    <div>@post.Content</div>
                    <div>@post.DateCreated</div>
                    <div>@post.DateLastEdited</div>
                    <div>Total likes: @post.Likes</div>
                    @*
                    <div>Category: @post.Category.Name</div>
                    *@
                    <div>Category: @post.Category</div>
                    <div>
                        Tags:
                        @foreach (var tag in @post.Tags)
                        {
                            <span>(@tag.TagId @tag.Name)</span>
                        }
                    </div>
                </div>

                <a asp-controller="Posts"
                   asp-action="Update"
                   asp-route-id="@post.PostId">
                    Update
                </a>
                <a asp-controller="Posts"
                   asp-action="Delete"
                   asp-route-id="@post.PostId">
                    Delete
                </a>
                <a asp-controller="Posts"
                   asp-action="Post"
                   asp-route-id="@post.PostId">
                    Go to post
                </a>
            </div>
        </div>
    }
</div>