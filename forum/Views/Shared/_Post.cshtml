@model Post

<div class="d-flex flex-column border rounded bg-dark bg-opacity-10 p-2 gap-2">
    <div class="d-flex flex-row justify-content-between fs-6">
        <div class="d-flex flex-row gap-1">
            <a asp-controller="Search"
               asp-action="Search"
               asp-route-term="@Model.Category?.Name">
                <span class="px-1 rounded bg-dark bg-opacity-25">@Model.Category?.Name</span>
            </a>


            @if (Model.Tags != null)
            {
                foreach (var tag in Model.Tags)
                {
                    <a asp-controller="Search"
                       asp-action="Search"
                       asp-route-term="@tag.Name">
                        <span class="px-1 rounded bg-dark bg-opacity-10">@tag.Name</span>
                    </a>
                }
            }
        </div>
        <div class="text-dark text-opacity-50">
            Posted by <span class="text-dark text-opacity-75">@Model.User?.Username</span>
            <span>@Model.DateCreated.ToShortDateString() @Model.DateCreated.ToShortTimeString()</span>
            @if (Model.DateLastEdited != null)
            {
                <span class="bg-dark bg-opacity-10 rounded px-1 ms-1 fst-italic">Last edited: @Model.DateLastEdited?.ToShortDateString() @Model.DateLastEdited?.ToShortTimeString()</span>
            }
        </div>
    </div>

    <div class="d-flex flex-column gap-4 p-4 rounded bg-dark bg-opacity-25">
        <h1 class="mb-0">@Model.Title</h1>
        <div>@Model.Content</div>

    </div>

    <div class="d-flex flex-row justify-content-between align-items-center fw-bold text-dark text-opacity-50">
        <div class="d-flex flex-row">
            <a class="btn"
               asp-controller="Post"
               asp-action="LikePost"
               asp-route-id="@Model.PostId">
                @Model.Likes Likes
            </a>
            <a class="btn"
               asp-controller="Post"
               asp-action="Post"
               asp-route-id="@Model.PostId">
                @Model.Comments?.Count Comments
            </a>
        </div>
        <div class="d-flex flex-row gap-1">
            <a class="btn btn-secondary"
               asp-controller="Post"
               asp-action="Update"
               asp-route-id="@Model.PostId">
                Edit
            </a>
            <a class="btn btn-secondary"
               asp-controller="Post"
               asp-action="Delete"
               asp-route-id="@Model.PostId">
                Delete
            </a>
            <a class="btn btn-secondary"
               asp-controller="Post"
               asp-action="Post"
               asp-route-id="@Model.PostId">
                Go to post
            </a>
        </div>
    </div>
</div>